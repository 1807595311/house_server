"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[836],{2392:function(e,t,r){r.d(t,{Z:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("div",[t("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline}},[t("Form-item",{attrs:{prop:"nickname"}},[t("Input",{attrs:{size:"large",type:"text",placeholder:"请输入昵称"},model:{value:e.formInline.nickname,callback:function(t){e.$set(e.formInline,"nickname",t)},expression:"formInline.nickname"}},[t("Icon",{staticStyle:{width:"20px"},attrs:{slot:"prepend",type:"ios-pricetag-outline"},slot:"prepend"})],1)],1),t("Form-item",{attrs:{prop:"account_number"}},[t("Input",{attrs:{size:"large",type:"text",placeholder:"请输入账号"},model:{value:e.formInline.account_number,callback:function(t){e.$set(e.formInline,"account_number",t)},expression:"formInline.account_number"}},[t("Icon",{staticStyle:{width:"20px"},attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t("Form-item",{attrs:{prop:"password"}},[t("Input",{attrs:{size:"large",type:"password",placeholder:"请输入密码"},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}},[t("Icon",{staticStyle:{width:"20px"},attrs:{slot:"prepend",type:"ios-unlocked-outline"},slot:"prepend"})],1)],1),t("Form-item",{attrs:{prop:"check_password"}},[t("Input",{attrs:{size:"large",type:"password",placeholder:"请再次输入密码"},model:{value:e.formInline.check_password,callback:function(t){e.$set(e.formInline,"check_password",t)},expression:"formInline.check_password"}},[t("Icon",{staticStyle:{width:"20px"},attrs:{slot:"prepend",type:"ios-unlocked-outline"},slot:"prepend"})],1)],1),t("Form-item",[t("div",{staticClass:"sex-box"},[t("Radio-group",{model:{value:e.formInline.sex,callback:function(t){e.$set(e.formInline,"sex",t)},expression:"formInline.sex"}},[t("Radio",{attrs:{label:0}},[e._v("男")]),t("Radio",{attrs:{label:1}},[e._v("女")]),t("Radio",{attrs:{label:2}},[e._v("未知")])],1)],1)]),t("Form-item",{attrs:{prop:"introduce"}},[t("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:3},placeholder:"请输入..."},model:{value:e.formInline.introduce,callback:function(t){e.$set(e.formInline,"introduce",t)},expression:"formInline.introduce"}})],1),t("Form-item",[t("div",{staticClass:"submit"},[t("Button",{attrs:{type:"primary",long:""},on:{click:function(t){return e.handleSubmit("formInline")}}},[e._v("下一步")])],1)])],1)],1)},o=[],s=(r(1703),r(5756));const i=new RegExp(/\s/);var a={name:"ClientForm1",data(){return{formInline:{nickname:"",account_number:"",password:"",check_password:"",introduce:"",sex:2},ruleInline:{nickname:[{validator:this.vNickanme,trigger:"blur"}],account_number:[{validator:this.vAccount_number,trigger:"blur"}],password:[{validator:this.vPassword,trigger:"blur"}],check_password:[{validator:this.vcheck_password,trigger:"blur"}],introduce:[{validator:this.vIntroduce,trigger:"blur"}]}}},methods:{vNickanme(e,t,r){(0,s.o)(t)?r(new Error("昵称包含敏感词")):t.length>8?r(new Error("昵称最大长度为8位")):i.test(t)?r(new Error("昵称不能包含空格")):r()},vAccount_number(e,t,r){let n=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/;n.test(t)?r():r(new Error("账号格式由字母数字长度8-16位组合"))},vPassword(e,t,r){let n=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/;n.test(t)?r():r(new Error("密码格式由字母数字长度8-16位组合"))},vcheck_password(e,t,r){this.formInline.password!=t?r(new Error("两次密码不一致")):r()},vIntroduce(e,t,r){(0,s.o)(t)?r(new Error("个人简介包含敏感词")):t.length>200?r(new Error("简介最多可输入200字")):r()},handleSubmit(e){this.$refs[e].validate((e=>{e&&this.$emit("form1",this.formInline)}))}}},l=a,m=r(1001),c=(0,m.Z)(l,n,o,!1,null,"253692b1",null),u=c.exports},2843:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"clientLogin"},[t("div",{staticClass:"box"},[e._m(0),t("div",{staticClass:"box-right"},[t("h1",[e._v("注册用户")]),t("Steps",{staticClass:"step",attrs:{current:e.currentIndex}},[t("Step",{attrs:{title:"基本信息"}}),t("Step",{attrs:{title:"联系方式"}}),t("Step",{attrs:{title:"上传头像"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:0===e.currentIndex,expression:"currentIndex===0"}],staticClass:"register-form"},[t("Form1",{on:{form1:e.getForm1}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:1===e.currentIndex,expression:"currentIndex===1"}],staticClass:"register-form"},[t("Form2",{on:{form2:e.getForm2}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:2===e.currentIndex,expression:"currentIndex===2"}],staticClass:"register-form"},[t("div",{staticClass:"upload-com"},[t("UploadHeadImg",{on:{getFormdata:e.getFormdata}})],1),t("Button",{attrs:{type:"success",long:""},on:{click:e.register}},[e._v("注册")])],1)],1)])])},o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"box-left"},[t("div",{staticClass:"logo"},[e._v(" 好宜居 ")]),t("div",{staticClass:"content"},[t("h1",[e._v("Hei！")]),t("h1",[t("span",[e._v("注册")]),e._v("开启更美好的居家生活")])])])}],s=(r(7658),r(2392)),i=function(){var e=this,t=e._self._c;return t("div",[t("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline}},[t("Form-item",{attrs:{prop:"phone_number"}},[t("Input",{attrs:{size:"large",type:"text",placeholder:"请输入11位手机号(必填)"},model:{value:e.formInline.phone_number,callback:function(t){e.$set(e.formInline,"phone_number",t)},expression:"formInline.phone_number"}},[t("Icon",{staticStyle:{width:"20px"},attrs:{slot:"prepend",type:"ios-pricetag-outline"},slot:"prepend"})],1)],1),t("Form-item",{attrs:{prop:"wx_number"}},[t("Input",{attrs:{size:"large",type:"text",placeholder:"请输入微信号(非必填)"},model:{value:e.formInline.wx_number,callback:function(t){e.$set(e.formInline,"wx_number",t)},expression:"formInline.wx_number"}},[t("Icon",{staticStyle:{width:"20px"},attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t("Form-item",{attrs:{prop:"qq_number"}},[t("Input",{attrs:{size:"large",type:"text",placeholder:"请输入QQ号(非必填)"},model:{value:e.formInline.qq_number,callback:function(t){e.$set(e.formInline,"qq_number",t)},expression:"formInline.qq_number"}},[t("Icon",{staticStyle:{width:"20px"},attrs:{slot:"prepend",type:"ios-unlocked-outline"},slot:"prepend"})],1)],1),t("Form-item",[t("div",{staticClass:"submit"},[t("Button",{attrs:{type:"primary",long:""},on:{click:function(t){return e.handleSubmit("formInline")}}},[e._v("下一步")])],1)])],1)],1)},a=[],l=(r(1703),{name:"ClientForm2",data(){return{formInline:{phone_number:"",wx_number:"",qq_number:""},ruleInline:{phone_number:[{validator:this.vPhone_number,trigger:"blur"}],qq_number:[{validator:this.vQQ_number,trigger:"blur"}],wx_number:[{validator:this.vWx_number,trigger:"blur"}]}}},methods:{vPhone_number(e,t,r){var n=/^[1][3,5,7,8][0-9]{9}$/;n.test(t)?r():r(new Error("手机号格式错误"))},vWx_number(e,t,r){var n=/^[a-zA-Z]{1}[-_a-zA-Z0-9]{5,19}$/;if(""===t)return r();n.test(t)?r():r(new Error("微信号格式错误"))},vQQ_number(e,t,r){var n=/^[1-9][0-9]{4,10}$/gim;if(""===t)return r();n.test(t)?r():r(new Error("QQ号格式错误"))},handleSubmit(e){this.$refs[e].validate((e=>{e&&this.$emit("form2",this.formInline)}))}}}),m=l,c=r(1001),u=(0,c.Z)(m,i,a,!1,null,"4429dd50",null),p=u.exports,d=r(8060),f={name:"ClientLogin",components:{Form1:s.Z,Form2:p,UploadHeadImg:d.Z},data(){return{currentIndex:0,formInline:{nickname:"",account_number:"",password:"",check_password:"",introduce:"",sex:2,phone_number:"",wx_number:"",qq_number:"",customer_type:0},formData:null}},created(){},methods:{getForm1(e){e.account_number&&(this.currentIndex=1,this.formInline={...this.formInline,...e})},getForm2(e){this.formInline={...this.formInline,...e},this.currentIndex=2},getFormdata(e){this.formData=e},async register(){if(!this.formData)return this.$tip({msg:"请先上传头像",status:-1});{const t=new FormData;t.append("file",this.formData),t.append("userInfo",JSON.stringify(this.formInline));try{let e=await this.$http.register("/client/register_ord_user",t);-1==e.data.status?this.currentIndex=0:this.$router.push("/login")}catch(e){}}}}},h=f,v=(0,c.Z)(h,n,o,!1,null,"d362136e",null),I=v.exports}}]);
//# sourceMappingURL=836.a2ef0c9d.js.map